<html>
<head>
  <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjpkAC9ePGem0lIq5XcMiuhR_wWLPFku8Ix9i2SXYRVK3e45q1BQUd_beF8dtzKET_EteAjPdGDwqpQ" type="text/javascript"></script>
  <script src="http://www.openlayers.org/api/2.3/OpenLayers.js"></script>
  <script src="http://clients.multimap.com/API/maps/1.1/metacarta_04"></script>
  <script src="http://api.maps.yahoo.com/ajaxymap?v=3.0&appid=euzuro-openlayers"></script>
  <script src="http://dev.virtualearth.net/mapcontrol/v3/mapcontrol.js"></script>
</head>
<body>
  <h1>OpenLayers: Multiple Providers </h1>
  <p>With the click of a button, OpenLayers can change between a half dozen providers.</p> 

  <div style="width:100%; height:80%" id="map"></div>

  <script defer="defer" type="text/javascript">
    OpenLayers.ProxyHost="/proxy/?url=";

    var map = new OpenLayers.Map( 'map', {controls: [new OpenLayers.Control.PanZoomBar()]} );

    map.addControl(new OpenLayers.Control.MouseToolbar());
    map.addControl(new OpenLayers.Control.MousePosition());
    map.addControl(new OpenLayers.Control.Permalink());

    var layer_switcher = new OpenLayers.Control.LayerSwitcher();
    map.addControl(layer_switcher);
    layer_switcher.maximizeControl();

    var mmlayer = new OpenLayers.Layer.MultiMap( "MultiMap", {minZoomLevel: 1});
    map.addLayer(mmlayer);

    var wms = new OpenLayers.Layer.WMS( "OpenLayers WMS", 
                                        "http://labs.metacarta.com/wms/vmap0", 
					{layers: 'basic'} );

    var wmss = new OpenLayers.Layer.WMS( "OpenPlans WMS",
                                         "http://sigma.openplans.org:3128/geoserver/wms",
                                         {layers: "topp:poly_landmarks,topp:water_polygon,topp:water_shorelines,topp:roads,topp:major_roads,topp:states,topp:countries,topp:gnis_pop",
                                          transparent: "false", format: "image/png", styles: "freemap_open_space,freemap_water,water_line,freemap_roads,freemap_major_roads,states_ol_sat,world_countries,gnis_pop_ol"});

    var jpl_wms = new OpenLayers.Layer.KaMap( "Satellite (NASA)", "/world/index.php", {g: "satellite", map: "world"});
    var google = new OpenLayers.Layer.Google("Google");
    var googles = new OpenLayers.Layer.Google("Google Satellite", { 'type': G_SATELLITE_MAP });
    var googleh = new OpenLayers.Layer.Google("Google Hybrid", { 'type': G_HYBRID_MAP });
    var ve = new OpenLayers.Layer.VirtualEarth("VirtualEarth", {'minZoomLevel': 0});
    var yahoo = new OpenLayers.Layer.Yahoo("Yahoo");
    var markers = new OpenLayers.Layer.Markers("Markers");
    markers.setVisibility(false);
    var georss = new OpenLayers.Layer.GeoRSS("Earthquakes (GeoRSS)", "http://earthquake.usgs.gov/eqcenter/recenteqsww/catalogs/eqs7day-M2.5.xml");


    map.addLayers([wms,wmss,jpl_wms, google,googles, googleh, ve,yahoo,markers,georss]);

    map.setCenter(new OpenLayers.LonLat(-71,42), 6);

    map.events.register("click", map, function(e) {
      markers.addMarker(new OpenLayers.Marker(this.getLonLatFromPixel(e.xy)));
    });
 
  </script>
</body>
</html>
